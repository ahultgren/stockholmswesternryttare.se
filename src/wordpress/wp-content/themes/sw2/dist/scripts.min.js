jQuery(function(a){a(".slideshow a").lighty({baseZ:5,prefix:"lighty-",data:function(){return""},itemTemplate:function(a){return{markup:'<img src="'+a.attr("href")+'" />'}}})}),function(a){function b(){this.settings={baseZ:5,data:function(){return{jsonposts:1}},prefix:"lighty-",itemTemplate:function(a){var b='<img src="'+a[0].the_post_thumbnail[0]+'" /><p class="desc">'+a[0].the_excerpt+"</p>";return{markup:b,width:a[0].the_post_thumbnail[1],height:a[0].the_post_thumbnail[2]}}};var b,c,d,e,f,g,h,i=this.settings,j=function(){var e,g=a(this);return d=g,e=i.itemTemplate(g),f.empty().append(e.markup),c.removeClass("hidden"),b.removeClass("hidden"),this},k=function(){b.addClass("hidden"),f.empty(),c.addClass("hidden"),d=void 0},l=function(a){var b=e[e.index(d)+1];a&&(a.preventDefault(),a.stopPropagation()),b||(b=e[0]),j.call(b)},m=function(a){var b=e[e.index(d)-1];a&&(a.preventDefault(),a.stopPropagation()),b||(b=e[e.length-1]),j.call(b)};this.init=function(n){return e=this,a.extend(i,n),b=a(document.createElement("div")).attr("id",i.prefix+"bg").addClass("hidden").appendTo("body").click(function(){k()}),c=a(document.createElement("div")).attr("id",i.prefix+"container").addClass("hidden").appendTo("body").click(function(){k()}),h=a(document.createElement("div")).addClass("prev").appendTo(c).on("click",m),g=a(document.createElement("div")).addClass("next").appendTo(c).on("click",l),f=a(document.createElement("div")).attr("id",i.prefix+"content").appendTo(c),a(window).keydown(function(a){d&&(39===a.which?(a.preventDefault(),l()):37===a.which?(a.preventDefault(),m()):27===a.which&&k())}),this.each(function(){a(this).click(function(a){a.preventDefault(),j.call(this)})})}}a.fn.lighty=function(c){if(this.length){var d=new b;if(d[c])return d[c].apply(this,Array.prototype.slice.call(arguments,1));if("object"==typeof c||!c)return d.init.apply(this,arguments);a.error("Method "+c+" does not exist on jQuery.lighty")}}}(jQuery);